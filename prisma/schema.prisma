datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id          Int     @id @default(autoincrement())
  name        String
  email       String  @unique
  password    String
  resetToken         String?     
  resetTokenExpires  DateTime?   
  resetCode       String?    
  resetCodeExpires DateTime?
  profileImage String? 
}


model Device {
  id          Int     @id @default(autoincrement())
  deviceId    String  @unique
  model       String
  os          String
  osVersion   String
  totalDiskSpace String
  freeDiskSpace String
  latitude      Float?  
  longitude     Float?  
  logs        Log[]
}

model Log {
  id            Int      @id @default(autoincrement())
  message       String
  batteryLevel  Int
  batteryState  String
  syncCount     Int
  timestamp     DateTime @default(now())
  latitude     Float? 
  longitude    Float? 
  deviceId      String
  device        Device   @relation(fields: [deviceId], references: [deviceId])
}